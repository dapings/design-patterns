# 备忘录模式(Memento Pattern)

备忘录模式允许在不暴露对象实现细节的情况下保存和恢复对象的内部状态。该模式将对象的状态封装到备忘录（Memento）对象中，并将其保存在负责管理备忘录的负责人（Caretaker）对象中。这样，对象可以随时将其状态保存到备忘录中，并在需要时从备忘录中恢复状态。 

适用于保存程序内部状态到外部，又不希望暴露内部状态的情形。

程序内部状态使用窄接口传递给外部进行存储，从而不暴露程序实现细节。

备忘录模式同时可以离线保存内部状态，如保存到数据库，文件等。

## 核心组件

- 发起人（Originator）：需要保存和恢复状态的对象。
- 备忘录（Memento）：用于存储发起人对象的状态。
- 负责人（Caretaker）：负责管理备忘录对象，可以存储和获取备忘录。 

## 场景

使用备忘录模式的好处是可以实现对象的状态保存和恢复，同时保持对象封装性。它常用于需要实现撤销、恢复、历史记录等功能的场景，例如文本编辑器中的撤销操作、游戏中的存档功能等。 

## 注意

备忘录模式可能会增加内存消耗，因为需要保存对象的状态副本。因此，在使用备忘录模式时需要权衡内存消耗和功能需求。